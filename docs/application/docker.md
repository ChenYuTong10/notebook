# 🐋 Docker

## 👀 What is docker

Docker is a popular software platform that allows developers to build, package, and deploy applications in isolated, portable containers. Each container includes all the necessary software, libraries, and configuration files needed to run the application, so it can be easily moved between different environments, such as development, testing, and production.

Docker containers are lightweight and efficient, as they share the host system's operating system kernel, while providing a separate file system and network stack. This means that developers can package their applications along with all the dependencies required to run them, without worrying about conflicts with other applications or the underlying system.

Docker has become a popular tool for DevOps teams, as it streamlines the deployment process and allows for rapid scaling and easy orchestration of containers across multiple hosts. Docker also has a large and active community, with a rich ecosystem of tools and services that can be used to extend its functionality.

::: tip
All above is generated by `ChatGPT`.🥱
:::

## ⚙️ Installation

Here we will introduce how to install docker on `ubuntu` and `windows` platforms.
You can go to the [official reference](https://docs.docker.com/engine/install/) to see more platform installations.

### Ubuntu

1. Update the `apt` package index and install packages to allow `apt` to use a repository over HTTPS.

    ```shell
    $ sudo apt-get update
    $ sudo apt-get install ca-certificates curl gnupg lsb-release
    ```

2. Add Docker’s official GPG key.

    ```shell
    $ sudo mkdir -m 0755 -p /etc/apt/keyrings
    $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
    ```

3. Use the following command to set up the repository.

    ```shell
   $ echo \
      "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
      $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
    ```

4. Update the `apt` package index.

    ```shell
    $ sudo apt-get update
    ```
   
5. Install Docker Engine, container, and Docker Compose.

    ```shell
    $ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
    ```
   
6. Verify that the Docker Engine installation is successful by running the `hello-world` image.

    ```shell
    $ sudo docker run hello-world
    ```
   
### Windows

On windows platform, we need to install `wsl` firstly.
The [official reference](https://learn.microsoft.com/en-us/windows/wsl/install) is here.

Press `Win + X` to open PowerShell in administrator mode. Then enter the following command and restart you machine after finished. 

```shell
$ wsl --install
```

After installing `wsl`, you can download the `Docker Desktop` [here](https://www.docker.com/products/docker-desktop/) and start to use docker.

## 🔮 Advanced

### Use docker command with `sudo`

1. Add the docker group if it doesn't already exist.

    ```shell
    $ sudo groupadd docker
    ```

2. Add the connected user $USER to the docker group.

    ```shell
    $ sudo gpasswd -a $USER docker
    ```
   **IMPORTANT**: Log out and log back in so that your group membership is re-evaluated.

3. Restart the docker daemon.

    ```shell
   $ sudo service docker restart
   ```
